
#### Protein Expression Plot

```{r}
#| label: cell-protein-expression-setup
#| echo: false
#| message: false
#| warning: false

fig_legend <- make_legend(fun = "make_cellexpression")
```

```{r}
#| label: cell-protein-expression
#| echo: false
#| message: false
#| warning: false
#| eval: !expr as.logical(params$private)

make_cellexpression(input = input_report, var = "protein")
```

`r if(params$private == "true"){fig_legend} else {private_message_md}`

#### Protein Expression Table

```{r}
#| label: cell-protein-expression-table-setup
#| echo: false
#| message: false
#| warning: false

fig_legend <- make_legend(fun = "make_expression_table")
```

```{r}
#| label: cell-protein-expression-table
#| echo: false
#| message: false
#| warning: false
#| eval: !expr as.logical(params$private)

make_expression_table(input = input_report, var = "protein") %>% 
  gt::gt()
```

`r if(params$private == "true"){fig_legend} else {private_message_md}`

